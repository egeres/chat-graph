<!DOCTYPE html>
<header>
    <!-- <link   rel="stylesheet" type="text/css" href="../css/style.css"> -->
    <!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
    <script src="../js/d3.v4.3.0.js"></script>
    <!-- <script src="js/lodash.js">   </script> -->
    <!-- <script src="http://code.jquery.com/jquery-1.6.2.min.js"></script> -->
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <meta charset="utf-8">

    <style>
        body, html {
            width: 100%;
            height: 100%;
            background-color: #000000;
            margin: 0;
        }

        .container_graph {
            background-color: #2f2f2f;
            color:#d7d7d7;
            font-size: 22px;
            font-family: arial;
            margin:10px;
            padding: 10px;
        }
    </style>

</header>

<body>
<!-- <svg id="main_graph" width="500" height="900"></svg> -->
</body>








<script>

    // // Start
    // var svg = d3.select("svg");
    // document.getElementById('main_graph').setAttribute("width", window.innerWidth - 50);
    //
    // // Size property
    // Object.size = function(obj) {
    //     var size = 0, key;
    //     for (key in obj) {
    //         if (obj.hasOwnProperty(key)) size++;
    //     }
    //     return size;
    // };

    // Small variables
    var lenght_x = 0;
    var lenght_y = 0;
    var disp_x   = 0;
    var disp_y   = 0;

    var color    = d3.scaleOrdinal(d3.schemeCategory20);
    var scall    = d3.scaleLinear().domain([0,15]).range([1,0]);





// d3.csv("data.csv", function(d, i) { return d; },
// function(error, data)
// {
//   lenght_x = Object.size(data   );
//   lenght_y = Object.size(data[0]);
//
//   disp_x = ( parseFloat(svg.style("width"))  -50 -50)  / (lenght_x - 1);
//   disp_y = ( parseFloat(svg.style("height")) -50 -50) /   lenght_y;
//
//   console.log(lenght_x);
//   console.log(lenght_y);
//
// });


var filenames = ["a.json"]

for (var i = 0; i < filenames.length; i++) {
    console.log(filenames[i])
    var name_of_the_file = filenames[i].split(".")[0];

    d3.json("files/"+filenames[i], function(error, data)
    {
        console.log("error =" + error);
        console.log("data  =" + data);

        var new_element;

        new_element = document.createElement('div');
        new_element.setAttribute("class", "container_graph");
        new_element.innerHTML = "asdad"
        document.body.appendChild(new_element);

        var xmlns = "http://www.w3.org/2000/svg";
        var boxWidth = 300;
        var boxHeight = 20;
        var svgElem = document.createElementNS (xmlns, "svg");
        svgElem.setAttributeNS (null, "id", name_of_the_file+"_graph" );
        svgElem.setAttributeNS (null, "viewBox", "0 0 " + boxWidth + " " + boxHeight);
        svgElem.setAttributeNS (null, "width", boxWidth);
        svgElem.setAttributeNS (null, "height", boxHeight);
        new_element.appendChild(svgElem);

        var svg        = d3.select("#"+name_of_the_file+"_graph");
        var rect_width = 10;

        for(var j = 0; j<1; j++)
        {
          svg.selectAll('path')
            .data([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 0, 4, 5, 3, 5, 8, 5, 1])
            .enter().append("rect")
            .attr("x"      , function(d, i) { return i*(rect_width+1) }  )
            .attr("y"      , function(d, i) { return 0 }  )
            .attr("width"  , function(d, i) { return (rect_width)       }  )
            .attr("height" , function(d, i) { return 20 }  )
            .attr("fill"   , function(d, i) { return d3.interpolateYlOrRd( 1-(d/10) )     }  );

        }

    });
}





</script>
